[
  {
    "__docId__": 0,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/api/business/index.js",
    "memberof": null,
    "longname": "source/api/business/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import router from 'koa-router';\nimport verify from '../oauth/verify';\nimport {\n  del,\n} from './methods';\n\n\n/**\n * @type {Router} user router\n */\nconst business = router();\n\n\nbusiness\n.delete('/', verify, del);\n\n\n/**\n * @type {Router} user.\n */\nexport default business;\n"
  },
  {
    "__docId__": 1,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "business",
    "memberof": "source/api/business/index.js",
    "longname": "source/api/business/index.js~business",
    "access": null,
    "export": true,
    "importPath": "server/source/api/business/index.js",
    "importStyle": "business",
    "description": "",
    "lineNumber": 11,
    "type": {
      "nullable": null,
      "types": [
        "Router"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 2,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/api/business/methods/del/index.js",
    "memberof": null,
    "longname": "source/api/business/methods/del/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import { Business } from '../../../../models';\n\n\nexport async function del(ctx) {\n  const { businessId } = ctx.state.user;\n\n  try {\n    await Business.findByIdAndRemove(businessId)\n                  .then(b => b.remove());\n\n    ctx.status = 200;\n    ctx.body = {};\n    return;\n  } catch (error) {\n    ctx.status = 500;\n    ctx.body = { error: \"no user\" };\n    return;\n  }\n}\n\n\nexport default del;\n"
  },
  {
    "__docId__": 3,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "del",
    "memberof": "source/api/business/methods/del/index.js",
    "longname": "source/api/business/methods/del/index.js~del",
    "access": null,
    "export": true,
    "importPath": "server/source/api/business/methods/del/index.js",
    "importStyle": "{del}",
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "params": [
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 4,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/api/business/methods/index.js",
    "memberof": null,
    "longname": "source/api/business/methods/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "export * from './del';\n"
  },
  {
    "__docId__": 5,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/api/index.js",
    "memberof": null,
    "longname": "source/api/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "/**\n * @type {Router} router of the server app.\n */\nimport router from 'koa-router';\n\nimport register from './register';\nimport sign from './oauth/sign';\nimport business from './business';\nimport shipment from './shipment';\nimport packet from './packet';\nimport user from './user';\n\n/**\n * @type {Router} endpoints the router for all endpoints\n */\nconst endpoints = router({ prefix: '/api' });\n\n\nendpoints\n.post('/register', register)\n.post('/oauth', sign)\n\n.use('/business', business.routes())\n.use('/business', business.allowedMethods())\n.use('/shipment', shipment.routes())\n.use('/shipment', shipment.allowedMethods())\n.use('/packet', packet.routes())\n.use('/packet', packet.allowedMethods())\n.use('/user', user.routes())\n.use('/user', user.allowedMethods());\n\n\nexport default endpoints;\n"
  },
  {
    "__docId__": 6,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "endpoints",
    "memberof": "source/api/index.js",
    "longname": "source/api/index.js~endpoints",
    "access": null,
    "export": true,
    "importPath": "server/source/api/index.js",
    "importStyle": "endpoints",
    "description": "",
    "lineNumber": 16,
    "type": {
      "nullable": null,
      "types": [
        "Router"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 7,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/api/oauth/sign/index.js",
    "memberof": null,
    "longname": "source/api/oauth/sign/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import jwt from 'jsonwebtoken';\nimport { User } from '../../../models';\n\nexport async function sign(ctx) {\n  const { email, password } = ctx.request.body;\n\n  if (!email || typeof email  !== 'string') {\n    ctx.status = 400;\n    ctx.body = { error: 'invalid email' };\n    return;\n  }\n\n  if (!password || typeof password !== 'string') {\n    ctx.status = 400;\n    ctx.body = { error: 'invalid password' };\n    return;\n  }\n\n  try {\n    const unauthedUser = await User.findOne({ email }, { password: true });\n\n    if (unauthedUser) {\n      const authenticated = unauthedUser.authenticate(password);\n      if (authenticated) {\n        const expiresIn = 86400;\n        const authedUser = await User.findOne({ email });\n        const token = jwt.sign(authedUser, 'shhhhh', { expiresIn });\n        ctx.status = 200;\n        ctx.body = { token, expiresIn };\n        return;\n      }\n\n      ctx.status = 401;\n      ctx.body = { error: 'invalid credentials' };\n      return;\n    }\n  } catch (error) {\n    ctx.status = 401;\n    ctx.body = { error: 'invalid credentials' };\n    return;\n  }\n}\n\nexport default sign;\n"
  },
  {
    "__docId__": 8,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "sign",
    "memberof": "source/api/oauth/sign/index.js",
    "longname": "source/api/oauth/sign/index.js~sign",
    "access": null,
    "export": true,
    "importPath": "server/source/api/oauth/sign/index.js",
    "importStyle": "{sign}",
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "params": [
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 9,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/api/oauth/sign/spec.js",
    "memberof": null,
    "longname": "source/api/oauth/sign/spec.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import server from 'supertest';\nimport mongoose from 'mongoose';\nimport test from 'ava';\n\nimport app from '../../../app';\n\n\ntest.before(async () => {\n  mongoose.Promise = Promise;\n  await mongoose.connect('mongodb://localhost/seamless-test');\n});\n\n\ntest.beforeEach(async t => t.context = server(app.listen()))\n\n\ntest('no email: should return 400, error: \"invalid email\"', async t => {\n  const body = {};\n  const res = await t.context\n                    .post('/api/oauth')\n                    .send(body);\n\n  t.is(res.status, 400);\n  t.is(res.body.error, 'invalid email');\n});\n\n\ntest.todo('invalid email expression: should return 400, error: \"invalid email\"');\n\n\ntest('typeof email !== \"string\": should return 400, error: \"invalid email\"', async t => {\n  const body = { email: {} };\n  const res = await t.context\n                    .post('/api/oauth')\n                    .send(body);\n\n  t.is(res.status, 400);\n  t.is(res.body.error, 'invalid email');\n});\n\n\ntest('no password: should return 400, error: \"invalid password\"', async t => {\n  const body = { email: 'user@sign.test' };\n  const res = await t.context\n                    .post('/api/oauth')\n                    .send(body);\n\n  t.is(res.status, 400);\n  t.is(res.body.error, 'invalid password');\n});\n\n\ntest.todo('invalid password expression: should return 400, error: \"invalid password\"');\n\n\ntest('typeof password !== \"string\": should return 400, error: \"invalid password\"', async t => {\n  const body = { email: 'user@sign.test', password: {} };\n  const res = await t.context\n                    .post('/api/oauth')\n                    .send(body);\n\n  t.is(res.status, 400);\n  t.is(res.body.error, 'invalid password');\n});\n\n\ntest('successful sign: should return 200, with token response', async t => {\n  const user = {\n    name: 'bob',\n    email: 'user@sign.test',\n    business: 'oauth sign inc,',\n    address: '123 abc st',\n    password: 'Password1',\n  };\n  const setup = await t.context\n                      .post('/api/register')\n                      .send(user);\n\n  // TODO get token from oauth\n\n  const { token } = setup;\n\n  await t.context\n        .del('/api/user')\n        .send({ token });\n\n  await t.context\n        .del('/api/business')\n        .send({ token });\n});\n\n\ntest.after(async () => {\n  await mongoose.connection.close();\n});\n"
  },
  {
    "__docId__": 10,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/api/oauth/verify/index.js",
    "memberof": null,
    "longname": "source/api/oauth/verify/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import jwt from 'jsonwebtoken';\n\nexport async function verify(ctx, next) {\n  const { request, headers, query } = ctx;\n\n  const token = request.body.token || query.token || headers['x-access-token'];\n  if (token) {\n    try {\n      ctx.state.user = await new Promise(resolve => {\n        jwt.verify(token, 'shhhhh', async (error, data) => {\n          if (error) {\n            throw error;\n          }\n          resolve(data._doc);\n        });\n      });\n    } catch (error) {\n      ctx.status = 401;\n      ctx.body = { error: 'invalid token' };\n      return;\n    }\n\n    await next();\n    return;\n  } else {\n    ctx.status = 401;\n    ctx.body = { error: 'invalid token' };\n    return;\n  }\n}\n\nexport default verify;\n"
  },
  {
    "__docId__": 11,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "verify",
    "memberof": "source/api/oauth/verify/index.js",
    "longname": "source/api/oauth/verify/index.js~verify",
    "access": null,
    "export": true,
    "importPath": "server/source/api/oauth/verify/index.js",
    "importStyle": "{verify}",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "params": [
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      },
      {
        "name": "next",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 12,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/api/packet/index.js",
    "memberof": null,
    "longname": "source/api/packet/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import router from 'koa-router';\nimport verify from '../oauth/verify';\nimport {\n  create,\n  read,\n} from './methods';\n\n\n/**\n * @type {Router} packet router\n */\nconst packet = router();\n\n\npacket\n.post('/', create)\n.get('/', verify, read);\n\n\n/**\n * @type {Router} packet.\n */\nexport default packet;\n"
  },
  {
    "__docId__": 13,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "packet",
    "memberof": "source/api/packet/index.js",
    "longname": "source/api/packet/index.js~packet",
    "access": null,
    "export": true,
    "importPath": "server/source/api/packet/index.js",
    "importStyle": "packet",
    "description": "",
    "lineNumber": 12,
    "type": {
      "nullable": null,
      "types": [
        "Router"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 14,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/api/packet/methods/create/index.js",
    "memberof": null,
    "longname": "source/api/packet/methods/create/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import { Packet, Shipment } from '../../../../models';\n\n/**\n * validates the incoming shipment packet, and saves it.\n * @param {Object} ctx the current serving context.\n */\nexport const create = async ctx => {\n  const { Body } = ctx.request.body;\n  const [\n    deviceId, lat, lng,,,, humidity, temp,\n  ] = Body.split(',');\n\n  console.log({ deviceId, lat, lng, humidity, temp });\n\n  if (!deviceId || isNaN(deviceId)) {\n    ctx.status = 400;\n    ctx.body = { error: 'invalid deviceId' };\n    return;\n  }\n  // if (!date || !time) {\n  //   ctx.status = 400;\n  //   ctx.body = { error: 'invalid date or time' };\n  //   return;\n  // }\n// \n  // let createdAt;\n  // if (date && time) {\n  //   createdAt = parseDate(date, time);\n  // }\n  \n  const packet = new Packet({\n    deviceId, lat: parseFloat(lat), lng: parseFloat(lng), humidity, temp\n  });\n\n\n  let shipment;\n  try {\n    shipment = await Shipment.findOne({ deviceId });\n    shipment.packets.push(packet._id)\n    await shipment.save();\n  } catch (error) {\n    console.log(error)\n    ctx.status = 400;\n    ctx.body = { error: 'invalid shipment' };\n    return;\n  }\n\n  packet.shipmentId = shipment._id;\n  try {\n    await packet.save();\n    ctx.status = 200;\n    ctx.body = '<?xml version=\"1.0\" encoding=\"UTF-8\" ?><Response></Response>';\n    return;\n  } catch (error) {\n    ctx.status = 500;\n    ctx.body = 'Server Error: Database did not save the packet';\n    throw error;\n  }\n};\n\n\n/**\n * returns the current time as a date time string\n */\nfunction parseDate(date, time) {\n  const [d1, d2, mo1, mo2, y1, y2] = date;\n  const [h1, h2, mi1, mi2, s1, s2] = time;\n\n  const day = d1 + d2;\n  const month = mo1 + mo2;\n  const year = y1 + y2;\n\n  const hours = h1 + h2;\n  const minutes = mi1 + mi2;\n  const seconds = s1 + s2;\n\n  return new Date(year, month, day, hours, minutes, seconds);\n}\n\n\nexport default create;\n"
  },
  {
    "__docId__": 15,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "create",
    "memberof": "source/api/packet/methods/create/index.js",
    "longname": "source/api/packet/methods/create/index.js~create",
    "access": null,
    "export": true,
    "importPath": "server/source/api/packet/methods/create/index.js",
    "importStyle": "{create}",
    "description": "validates the incoming shipment packet, and saves it.",
    "lineNumber": 7,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "ctx",
        "description": "the current serving context."
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 16,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "parseDate",
    "memberof": "source/api/packet/methods/create/index.js",
    "longname": "source/api/packet/methods/create/index.js~parseDate",
    "access": null,
    "export": false,
    "importPath": "server/source/api/packet/methods/create/index.js",
    "importStyle": null,
    "description": "returns the current time as a date time string",
    "lineNumber": 65,
    "params": [
      {
        "name": "date",
        "types": [
          "*"
        ]
      },
      {
        "name": "time",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 17,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/api/packet/methods/index.js",
    "memberof": null,
    "longname": "source/api/packet/methods/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "export * from './create';\nexport * from './read';\n"
  },
  {
    "__docId__": 18,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/api/packet/methods/read/index.js",
    "memberof": null,
    "longname": "source/api/packet/methods/read/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import { Shipment } from '../../../../models';\n\n\nexport async function read(ctx) {\n  const { businessId } = ctx.state.user;\n  const { shipmentId } = ctx.query;\n\n  try {\n    const shipment = await Shipment.findById(shipmentId)\n                                   .populate('packets')\n                                   .exec();\n\n    if (shipment.businessId != businessId) {\n      return;\n    }\n\n    const { packets } = shipment;\n    ctx.body = packets;\n    ctx.status = 200;\n  } catch (error) {\n    console.log(error)\n    ctx.body = error;\n    ctx.status = 500;\n  }\n}\n"
  },
  {
    "__docId__": 19,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "read",
    "memberof": "source/api/packet/methods/read/index.js",
    "longname": "source/api/packet/methods/read/index.js~read",
    "access": null,
    "export": true,
    "importPath": "server/source/api/packet/methods/read/index.js",
    "importStyle": "{read}",
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "params": [
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 20,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/api/register/index.js",
    "memberof": null,
    "longname": "source/api/register/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import jwt from 'jsonwebtoken';\nimport {\n  Business,\n  User,\n} from '../../models';\n\n\n/**\n * creates a user.\n * @param {Object} ctx the current serving context.\n */\nexport async function register (ctx) {\n  const {\n    name, email, businessName, address, industry, password,\n  } = ctx.request.body;\n\n\n  if (!name || name.length < 3 || typeof name !== 'string') {\n    ctx.status = 400;\n    ctx.body = { error: 'invalid name' };\n    return;\n  }\n  if (!email || typeof email !== 'string') { // TODO: test with email expression\n    ctx.status = 400;\n    ctx.body = { error: 'invalid email' };\n    return;\n  }\n  if (!businessName || businessName.length < 3 || typeof businessName !== 'string') {\n    ctx.status = 400;\n    ctx.body = { error: 'invalid businessName' };\n    return;\n  }\n  if (!address || address.length < 3 || typeof address !== 'string') {\n    ctx.status = 400;\n    ctx.body = { error: 'invalid address' };\n    return;\n  }\n  if (!password || typeof password !== 'string') { // TODO: test with password expression\n    ctx.status = 400;\n    ctx.body = { error: 'invalid password' };\n    return;\n  }\n\n\n  const business = new Business({ name: businessName, address });\n  const user = new User({ name, email, password });\n\n  if (industry) business.industry = industry;\n  business.employees.push(user._id);\n  business.owner = user._id;\n  try {\n    await business.save();\n  } catch (error) {\n    ctx.status = 500;\n    ctx.body = { error: 'invalid business' };\n    return;\n  }\n\n  user.businessId = business._id;\n  user.role.owner = true;\n  user.role.admin = true;\n  try {\n    await user.save();\n  } catch (error) {\n    ctx.status = 500;\n    ctx.body = { error: 'invalid user' };\n    return;\n  }\n\n\n  const expiresIn = 86400;\n  const token = await jwt.sign(user, 'shhhhh', { expiresIn });\n  ctx.status = 201;\n  ctx.body = { token, expiresIn };\n}\n\n\nexport default register;\n"
  },
  {
    "__docId__": 21,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "register",
    "memberof": "source/api/register/index.js",
    "longname": "source/api/register/index.js~register",
    "access": null,
    "export": true,
    "importPath": "server/source/api/register/index.js",
    "importStyle": "{register}",
    "description": "creates a user.",
    "lineNumber": 12,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "ctx",
        "description": "the current serving context."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 22,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/api/register/spec.js",
    "memberof": null,
    "longname": "source/api/register/spec.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import server from 'supertest';\nimport mongoose from 'mongoose';\nimport test from 'ava';\n\nimport app from '../../app';\n\n\n/**\n * @type {SuperTest} ctx of the tests. (a server wrapped with supertest)\n */\nconst ctx = server(app.listen());\n\n\ntest.before(async () => {\n  mongoose.Promise = Promise;\n  await mongoose.connect('mongodb://localhost/seamless-test');\n});\n\n\ntest.beforeEach(async t => t.context = ctx)\n\n\ntest('no name: should return 400, error: \"invalid name\"', async t => {\n  const res = await t.context\n                    .post('/api/register');\n\n  t.is(res.status, 400);\n  t.is(res.body.error, 'invalid name');\n});\n\n\ntest('name.length < 3: should return 400, error: \"invalid name\"', async t => {\n  const body = { name: 'ab' };\n  const res = await t.context\n                    .post('/api/register')\n                    .send(body);\n\n  t.is(res.status, 400);\n  t.is(res.body.error, 'invalid name');\n});\n\n\ntest('typeof name !== \"string\": should return 400, error: \"invalid name\"', async t => {\n  const body = { name: {} };\n  const res = await t.context\n                    .post('/api/register')\n                    .send(body);\n\n  t.is(res.status, 400);\n  t.is(res.body.error, 'invalid name');\n});\n\n\ntest('no email: should return 400, error: \"invalid email\"', async t => {\n  const body = { name: 'bob' };\n  const res = await t.context\n                    .post('/api/register')\n                    .send(body);\n\n  t.is(res.status, 400);\n  t.is(res.body.error, 'invalid email');\n});\n\n\ntest.todo('invalid email expression: should return 400, error: \"invalid email\"');\n\n\ntest('typeof email !== \"string\": should return 400, error: \"invalid email\"', async t => {\n  const body = { name: 'bob', email: {} };\n  const res = await t.context\n                    .post('/api/register')\n                    .send(body);\n\n  t.is(res.status, 400);\n  t.is(res.body.error, 'invalid email');\n});\n\n\ntest('no businessName: should return 400, error: \"invalid businessName\"', async t => {\n  const body = { name: 'bob', email: 'user@register.test' };\n  const res = await t.context\n                    .post('/api/register')\n                    .send(body);\n\n  t.is(res.status, 400);\n  t.is(res.body.error, 'invalid businessName');\n});\n\n\ntest('businessName.length < 3: should return 400, error: \"invalid businessName\"', async t => {\n  const body = { name: 'bob', email: 'user@register.test', businessName: 'ab' };\n  const res = await t.context\n                    .post('/api/register')\n                    .send(body);\n\n  t.is(res.status, 400);\n  t.is(res.body.error, 'invalid businessName');\n});\n\n\ntest('typeof businessName !== \"string\": should return 400, error: \"invalid businessName\"', async t => {\n  const body = { name: 'bob', email: 'user@register.test', businessName: {} };\n  const res = await t.context\n                    .post('/api/register')\n                    .send(body);\n\n  t.is(res.status, 400);\n  t.is(res.body.error, 'invalid businessName');\n});\n\n\ntest('no address: should return 400, error: \"invalid address\"', async t => {\n  const body = { name: 'bob', email: 'user@register.test', businessName: 'register inc' };\n  const res = await t.context\n                    .post('/api/register')\n                    .send(body);\n\n  t.is(res.status, 400);\n  t.is(res.body.error, 'invalid address');\n});\n\n\ntest('address.length < 3: should return 400, error: \"invalid address\"', async t => {\n  const body = { name: 'bob', email: 'user@register.test', businessName: 'register inc', address: 'ab' };\n  const res = await t.context\n                    .post('/api/register')\n                    .send(body);\n\n  t.is(res.status, 400);\n  t.is(res.body.error, 'invalid address');\n});\n\n\ntest('typeof address !== \"string\": should return 400, error: \"invalid address\"', async t => {\n  const body = { name: 'bob', email: 'user@register.test', businessName: 'register inc', address: {} };\n  const res = await t.context\n                    .post('/api/register')\n                    .send(body);\n\n  t.is(res.status, 400);\n  t.is(res.body.error, 'invalid address');\n});\n\n\ntest('no password: should return 400, error: \"invalid password\"', async t => {\n  const body = { name: 'bob', email: 'user@register.test', businessName: 'register inc', address: '123 abc st' };\n  const res = await t.context\n                    .post('/api/register')\n                    .send(body);\n\n  t.is(res.status, 400);\n  t.is(res.body.error, 'invalid password');\n});\n\n\ntest.todo('invalid password expression: should return 400, error: \"invalid password\"');\n\n\ntest('typeof password !== \"string\": should return 400, error: \"invalid password\"', async t => {\n  const body = {\n    name: 'bob',\n    email: 'user@register.test',\n    businessName: 'register inc',\n    address: '123 abc st',\n    password: {},\n  };\n  const res = await t.context\n                    .post('/api/register')\n                    .send(body);\n\n  t.is(res.status, 400);\n  t.is(res.body.error, 'invalid password');\n});\n\ntest('successful register: should return 200, with token', async t => {\n  const user = {\n    name: 'bob',\n    email: 'user@register.test',\n    businessName: 'register inc',\n    address: '123 abc st',\n    password: 'Password1',\n  };\n  const test = await t.context\n                      .post('/api/register')\n                      .send(user);\n\n  const { status, body: { token, expiresIn } } = test;\n\n  t.is(status, 201);\n  t.is(typeof token, 'string');\n  t.is(expiresIn, 86400);\n\n\n  await t.context\n        .del('/api/business')\n        .send({ token });\n});\n\ntest.after(async () => {\n  await mongoose.connection.close();\n});\n"
  },
  {
    "__docId__": 23,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "ctx",
    "memberof": "source/api/register/spec.js",
    "longname": "source/api/register/spec.js~ctx",
    "access": null,
    "export": false,
    "importPath": "server/source/api/register/spec.js",
    "importStyle": null,
    "description": "",
    "lineNumber": 11,
    "type": {
      "nullable": null,
      "types": [
        "SuperTest"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 24,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/api/shipment/index.js",
    "memberof": null,
    "longname": "source/api/shipment/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import router from 'koa-router';\nimport verify from '../oauth/verify';\nimport {\n  create,\n  read,\n  update,\n  del,\n} from './methods';\n\n\n/**\n * @type {Router} shipment router\n */\nconst shipment = router();\n\n\nshipment\n.post('/', verify,  create)\n.get('/', verify, read)\n.put('/', verify, update)\n.delete('/', verify, del);\n\n\n/**\n * @type {Router} shipment.\n */\nexport default shipment;\n"
  },
  {
    "__docId__": 25,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "shipment",
    "memberof": "source/api/shipment/index.js",
    "longname": "source/api/shipment/index.js~shipment",
    "access": null,
    "export": true,
    "importPath": "server/source/api/shipment/index.js",
    "importStyle": "shipment",
    "description": "",
    "lineNumber": 14,
    "type": {
      "nullable": null,
      "types": [
        "Router"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 26,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/api/shipment/methods/create/index.js",
    "memberof": null,
    "longname": "source/api/shipment/methods/create/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import { Business, Shipment } from '../../../../models';\n\n/**\n * creates a shipment for the business of the user\n * @param {Object} ctx the current serving context.\n */\nexport async function create(ctx) {\n  const { businessId } = ctx.state.user;\n  const { deviceId } = ctx.request.body;\n\n  if (!deviceId || isNaN(deviceId)) {\n    ctx.status = 400;\n    ctx.body = { error: 'invalid deviceId' };\n    return;\n  }\n\n  const shipment = new Shipment({ businessId, deviceId });\n\n  try {\n    const business = await Business.findById(businessId);\n    business.shipments.push(shipment._id);\n    await business.save();\n  } catch (error) {\n    ctx.status = 500;\n    ctx.body = { error: 'invalid business' };\n    return;\n  }\n\n\n  try {\n    await shipment.save();\n    ctx.status = 201;\n    ctx.body = shipment;\n    return;\n  } catch (error) {\n    console.log(error)\n    ctx.status = 500;\n    ctx.body = { error: 'invalid shipment' };\n    return;\n  }\n}\n\nexport default create;\n"
  },
  {
    "__docId__": 27,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "create",
    "memberof": "source/api/shipment/methods/create/index.js",
    "longname": "source/api/shipment/methods/create/index.js~create",
    "access": null,
    "export": true,
    "importPath": "server/source/api/shipment/methods/create/index.js",
    "importStyle": "{create}",
    "description": "creates a shipment for the business of the user",
    "lineNumber": 7,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "ctx",
        "description": "the current serving context."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 28,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/api/shipment/methods/create/spec.js",
    "memberof": null,
    "longname": "source/api/shipment/methods/create/spec.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import server from 'supertest';\nimport mongoose from 'mongoose';\nimport test from 'ava';\n\nimport app from '../../../../app';\n\n\ntest.before(async () => {\n  mongoose.Promise = Promise;\n  await mongoose.connect('mongodb://localhost/seamless-test');\n});\n\n\ntest.beforeEach(async t => t.context = server(app.listen()));\n\n\ntest('successful create: should return 200, with shipment', async t => {\n  const user = {\n    name: 'bob',\n    email: 'shipment@create.test',\n    businessName: 'shipment create inc,',\n    address: '123 abc st',\n    password: 'Password1',\n  };\n  const setup = await t.context\n                      .post('/api/register')\n                      .send(user);\n\n  const { token } = setup.body;\n  \n  \n  const shipment = { deviceId: 123456 };\n  const headers = { 'x-access-token': token };\n  const test = await t.context\n                    .post('/api/shipment')\n                    .set(headers)\n                    .send(shipment);\n\n  t.is(test.status, 201);\n\n\n  await t.context\n        .del('/api/business')\n        .set(headers);\n});\n\n\ntest.after(async () => {\n  await mongoose.connection.close();\n});\n"
  },
  {
    "__docId__": 29,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/api/shipment/methods/del/index.js",
    "memberof": null,
    "longname": "source/api/shipment/methods/del/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import { Business, Shipment } from '../../../../models';\n\n/**\n * deletes a shipment for the business of the user\n * @param {Object} ctx the current serving context.\n */\nexport async function del(ctx){\n    const { businessId } = ctx.state.user;\n    const { _id } = ctx.query;\n\n  try {\n    await Shipment.findByIdAndRemove(_id);\n  } catch (error) {\n    ctx.status = 400;\n    ctx.body = error;\n    return;\n  }\n\n  try {\n    const business = await Business.findById(businessId);\n    business.shipments.pull(_id);\n    await business.save();\n    ctx.body = {};\n    ctx.status = 200;\n  } catch (error) {\n    ctx.status = 500;\n    ctx.body = { error: 'invalid business' };\n    return;\n  }\n}\n"
  },
  {
    "__docId__": 30,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "del",
    "memberof": "source/api/shipment/methods/del/index.js",
    "longname": "source/api/shipment/methods/del/index.js~del",
    "access": null,
    "export": true,
    "importPath": "server/source/api/shipment/methods/del/index.js",
    "importStyle": "{del}",
    "description": "deletes a shipment for the business of the user",
    "lineNumber": 7,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "ctx",
        "description": "the current serving context."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 31,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/api/shipment/methods/del/spec.js",
    "memberof": null,
    "longname": "source/api/shipment/methods/del/spec.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import server from 'supertest';\nimport mongoose from 'mongoose';\nimport test from 'ava';\n\nimport app from '../../../../app';\n\n\ntest.before(async () => {\n  mongoose.Promise = Promise;\n  await mongoose.connect('mongodb://localhost/seamless-test');\n});\n\n\ntest.beforeEach(async t => t.context = server(app.listen()));\n\n\ntest('successful delete: should return 200, with {}', async t => {\n  const user = {\n    name: 'bob',\n    email: 'shipment@delete.test',\n    businessName: 'shipment delete inc,',\n    address: '123 abc st',\n    password: 'Password1',\n  };\n  const setup = await t.context\n                      .post('/api/register')\n                      .send(user);\n\n  const { token } = setup.body;\n\n\n  const headers = { 'x-access-token': token };\n  const shipment = { deviceId: 123456 };\n  const setupTwo = await t.context\n                        .post('/api/shipment')\n                        .set(headers)\n                        .send(shipment);\n\n  const { _id } = setupTwo.body;\n  const queries = { _id };\n  const test = await t.context\n                    .del('/api/shipment')\n                    .query(queries)\n                    .set(headers);\n\n  t.is(test.status, 200);\n  t.true(test.body instanceof Object);\n\n\n  await t.context\n        .del('/api/business')\n        .set(headers);\n});\n\n\ntest.after(async () => {\n  await mongoose.connection.close();\n});\n"
  },
  {
    "__docId__": 32,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/api/shipment/methods/index.js",
    "memberof": null,
    "longname": "source/api/shipment/methods/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "export * from './create';\nexport * from './read';\nexport * from './update';\nexport * from './del';\n"
  },
  {
    "__docId__": 33,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/api/shipment/methods/read/index.js",
    "memberof": null,
    "longname": "source/api/shipment/methods/read/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import { Business, Shipment } from '../../../../models';\n\n\nexport async function read(ctx) {\n  const { businessId } = ctx.state.user;\n  const { _id } = ctx.query;\n\n  try {\n    let result;\n    if (_id) {\n      result = await Shipment.findById(_id);\n    } else {\n      const { shipments } = await Business.findById(businessId, 'shipments')\n                                          .populate('shipments')\n                                          .exec();\n      result = shipments;\n    }\n    ctx.body = result;\n    ctx.status = 200;\n  } catch (error) {\n    ctx.body = error;\n    ctx.status = 500;\n  }\n}\n"
  },
  {
    "__docId__": 34,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "read",
    "memberof": "source/api/shipment/methods/read/index.js",
    "longname": "source/api/shipment/methods/read/index.js~read",
    "access": null,
    "export": true,
    "importPath": "server/source/api/shipment/methods/read/index.js",
    "importStyle": "{read}",
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "params": [
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 35,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/api/shipment/methods/read/spec.js",
    "memberof": null,
    "longname": "source/api/shipment/methods/read/spec.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import server from 'supertest';\nimport mongoose from 'mongoose';\nimport test from 'ava';\n\nimport app from '../../../../app';\n\n\ntest.before(async () => {\n  mongoose.Promise = Promise;\n  await mongoose.connect('mongodb://localhost/seamless-test');\n});\n\n\ntest.beforeEach(async t => t.context = server(app.listen()));\n\n\ntest('successful read one: should return 200, with shipment', async t => {\n  const user = {\n    name: 'bob',\n    email: 'shipment@read.test',\n    businessName: 'shipment read inc,',\n    address: '123 abc st',\n    password: 'Password1',\n  };\n  const setup = await t.context\n                      .post('/api/register')\n                      .send(user);\n\n  const { token } = setup.body;\n\n  \n  const shipment = { deviceId: 123456 };\n  const headers = { 'x-access-token': token };\n  const setupTwo = await t.context\n                          .post('/api/shipment')\n                          .set(headers)\n                          .send(shipment);\n\n\n  const { _id } = setupTwo.body;\n  const queries = { _id };\n  const test = await t.context\n                     .get('/api/shipment')\n                     .set(headers)\n                     .query(queries);\n\n  t.is(test.status, 200);\n  t.true(test.body instanceof Object);\n\n\n  await t.context\n        .del('/api/business')\n        .set(headers);\n});\n\n\ntest('successful read all: should return 200, with shipments', async t => {\n  const user = {\n    name: 'bob',\n    email: 'shipments@read.test',\n    businessName: 'shipments read inc,',\n    address: '123 abc st',\n    password: 'Password1',\n  };\n  const setup = await t.context\n                      .post('/api/register')\n                      .send(user);\n\n  const { token } = setup.body;\n  const headers = { 'x-access-token': token };\n  const shipment = { deviceId: 123456 };\n  await t.context\n         .post('/api/shipment')\n         .set(headers)\n         .send(shipment);\n\n\n  const test = await t.context\n                     .get('/api/shipment')\n                     .set(headers);\n\n  t.is(test.status, 200);\n  t.true(test.body instanceof Array);\n\n\n  await t.context\n        .del('/api/business')\n        .set(headers);\n});\n\n\ntest.after(async () => {\n  await mongoose.connection.close();\n});\n"
  },
  {
    "__docId__": 36,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/api/shipment/methods/update/index.js",
    "memberof": null,
    "longname": "source/api/shipment/methods/update/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "export const update = ctx => {\n  ctx.body = 'route \"create\" is still under construction';\n  return;\n};\n\nexport default update;\n"
  },
  {
    "__docId__": 37,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "update",
    "memberof": "source/api/shipment/methods/update/index.js",
    "longname": "source/api/shipment/methods/update/index.js~update",
    "access": null,
    "export": true,
    "importPath": "server/source/api/shipment/methods/update/index.js",
    "importStyle": "{update}",
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 38,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/api/user/index.js",
    "memberof": null,
    "longname": "source/api/user/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import router from 'koa-router';\nimport verify from '../oauth/verify';\nimport {\n  me,\n  create,\n  read,\n  update,\n  del,\n} from './methods';\n\n\n/**\n * @type {Router} user router\n */\nconst user = router();\n\n\nuser\n.get('/me', verify, me)\n\n.post('/', verify, create)\n.get('/', verify, read)\n.put('/', verify, update)\n.delete('/', verify, del);\n\n\n/**\n * @type {Router} user.\n */\nexport default user;\n"
  },
  {
    "__docId__": 39,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "user",
    "memberof": "source/api/user/index.js",
    "longname": "source/api/user/index.js~user",
    "access": null,
    "export": true,
    "importPath": "server/source/api/user/index.js",
    "importStyle": "user",
    "description": "",
    "lineNumber": 15,
    "type": {
      "nullable": null,
      "types": [
        "Router"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 40,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/api/user/methods/create/index.js",
    "memberof": null,
    "longname": "source/api/user/methods/create/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import { Business, User } from '../../../../models';\n\n/**\n * creates a user.\n * @param {Object} ctx the current serving context.\n */\nexport async function create (ctx) {\n  const { businessId } = ctx.state.user;\n  const {\n    name, email, password,\n  } = ctx.request.body;\n\n  if (!name || name.length < 3 || typeof name !== 'string') {\n    ctx.status = 400;\n    ctx.body = { error: 'invalid name' };\n    return;\n  }\n\n  if (!email || typeof email !== 'string') { // TODO: test with email expression\n    ctx.status = 400;\n    ctx.body = { error: 'invalid email' };\n    return;\n  }\n\n  if (!password || typeof password !== 'string') { // TODO: test with password expression\n    ctx.status = 400;\n    ctx.body = { error: 'invalid password' };\n    return;\n  }\n\n  const user = new User({ name, email, businessId, password });\n\n  try {\n    const business = await Business.findById(businessId);\n    business.employees.push(user._id);\n    await business.save();\n  } catch (error) {\n    ctx.status = 500;\n    ctx.body = { error: 'invalid business' };\n    return;\n  }\n\n\n  try {\n    await user.save();\n    ctx.status = 200;\n    ctx.body = user;\n    return;\n  } catch (error) {\n    ctx.status = 500;\n    ctx.body = { error: 'invalid user' };\n    return;\n  }\n}\n\nexport default create;\n"
  },
  {
    "__docId__": 41,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "create",
    "memberof": "source/api/user/methods/create/index.js",
    "longname": "source/api/user/methods/create/index.js~create",
    "access": null,
    "export": true,
    "importPath": "server/source/api/user/methods/create/index.js",
    "importStyle": "{create}",
    "description": "creates a user.",
    "lineNumber": 7,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "ctx",
        "description": "the current serving context."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 42,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/api/user/methods/create/spec.js",
    "memberof": null,
    "longname": "source/api/user/methods/create/spec.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import server from 'supertest';\nimport mongoose from 'mongoose';\nimport test from 'ava';\n\nimport app from '../../../../app';\n\n\ntest.before(async () => {\n  mongoose.Promise = Promise;\n  await mongoose.connect('mongodb://localhost/seamless-test');\n});\n\n\ntest.beforeEach(async t => t.context = server(app.listen()));\n\n\ntest('successful create: should return 200, with user', async t => {\n  const user = {\n    name: 'bob',\n    email: 'user@create.test',\n    businessName: 'user create inc,',\n    address: '123 abc st',\n    password: 'Password1',\n  };\n  const setup = await t.context\n                      .post('/api/register')\n                      .send(user);\n\n\n  const { token } = setup.body;\n  const headers = { 'x-access-token': token };\n  const user2 = { name: 'bob', email: 'user2@create.test', password: 'Password2' };\n  const test = await t.context\n                    .post('/api/user')\n                    .set(headers)\n                    .send(user2);\n\n  t.is(test.status, 200);\n  t.is(test.body.name, user2.name);\n  t.is(test.body.email, user2.email);\n\n\n  await t.context\n        .del('/api/business')\n        .set(headers);\n});\n\n\ntest.after(async () => {\n  await mongoose.connection.close();\n});\n"
  },
  {
    "__docId__": 43,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/api/user/methods/del/index.js",
    "memberof": null,
    "longname": "source/api/user/methods/del/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import { Business, User } from '../../../../models';\n\n\nexport async function del(ctx) {\n  const { _id, businessId } = ctx.state.user;\n  \n  try {\n    await User.findByIdAndRemove(_id);\n  } catch (error) {\n    ctx.error = 500;\n    ctx.body = error;\n    return;\n  }\n\n  try {\n    const business = await Business.findById(businessId);\n    business.employees.pull(_id);\n    await business.save();\n    ctx.status = 200;\n    ctx.body = {};\n    return;\n  } catch (error) {\n    ctx.error = 500;\n    ctx.body = error;\n    return;\n  }\n}\n\n\nexport default del;\n"
  },
  {
    "__docId__": 44,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "del",
    "memberof": "source/api/user/methods/del/index.js",
    "longname": "source/api/user/methods/del/index.js~del",
    "access": null,
    "export": true,
    "importPath": "server/source/api/user/methods/del/index.js",
    "importStyle": "{del}",
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "params": [
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 45,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/api/user/methods/del/spec.js",
    "memberof": null,
    "longname": "source/api/user/methods/del/spec.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import server from 'supertest';\nimport mongoose from 'mongoose';\nimport test from 'ava';\n\nimport app from '../../../../app';\n\n\ntest.before(async () => {\n  mongoose.Promise = Promise;\n  await mongoose.connect('mongodb://localhost/seamless-test');\n});\n\n\ntest.beforeEach(async t => t.context = server(app.listen()));\n\n\ntest('successful delete: should return 200, with {}', async t => {\n  const user = {\n    name: 'bob',\n    email: 'user@delete.test',\n    businessName: 'user delete inc,',\n    address: '123 abc st',\n    password: 'Password1',\n  };\n  const setup = await t.context\n                      .post('/api/register')\n                      .send(user);\n\n\n  const { token } = setup.body;\n  const headers = { 'x-access-token': token };\n  const test = await t.context\n                    .del('/api/user')\n                    .set(headers);\n\n\n  t.is(test.status, 200);\n  t.true(test.body instanceof Object);\n\n\n  await t.context\n      .del('/api/business')\n      .set(headers);\n});\n\n\ntest.after(async () => {\n  await mongoose.connection.close();\n});\n"
  },
  {
    "__docId__": 46,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/api/user/methods/index.js",
    "memberof": null,
    "longname": "source/api/user/methods/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "export * from './create';\nexport * from './read';\nexport * from './update';\nexport * from './del';\n"
  },
  {
    "__docId__": 47,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/api/user/methods/read/index.js",
    "memberof": null,
    "longname": "source/api/user/methods/read/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import { Business } from '../../../../models';\n\nexport function me(ctx) {\n  const { user } = ctx.state;\n  ctx.status = 200;\n  ctx.body = user;\n  return;\n}\n\nexport async function read(ctx) {\n  const { businessId } = ctx.state.user;\n\n  try {\n    const { employees } = await Business\n                           .findById(businessId , 'employees')\n                           .populate('employees')\n                           .exec();\n    ctx.body = employees;\n    ctx.status = 200;\n  } catch (error) {\n    ctx.body = error;\n    ctx.status = 500;\n  }\n}\n"
  },
  {
    "__docId__": 48,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "me",
    "memberof": "source/api/user/methods/read/index.js",
    "longname": "source/api/user/methods/read/index.js~me",
    "access": null,
    "export": true,
    "importPath": "server/source/api/user/methods/read/index.js",
    "importStyle": "{me}",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "params": [
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 49,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "read",
    "memberof": "source/api/user/methods/read/index.js",
    "longname": "source/api/user/methods/read/index.js~read",
    "access": null,
    "export": true,
    "importPath": "server/source/api/user/methods/read/index.js",
    "importStyle": "{read}",
    "description": null,
    "lineNumber": 10,
    "undocument": true,
    "params": [
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 50,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/api/user/methods/read/spec.js",
    "memberof": null,
    "longname": "source/api/user/methods/read/spec.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import server from 'supertest';\nimport mongoose from 'mongoose';\nimport test from 'ava';\n\nimport app from '../../../../app';\n\n\ntest.before(async () => {\n  mongoose.Promise = Promise;\n  await mongoose.connect('mongodb://localhost/seamless-test');\n});\n\n\ntest.beforeEach(async t => t.context = server(app.listen()));\n\n\ntest('successful me: should return 200, with user', async t => {\n  const user = {\n    name: 'bob',\n    email: 'user@me.test',\n    businessName: 'user me inc,',\n    address: '123 abc st',\n    password: 'Password1',\n  };\n  const setup = await t.context\n                      .post('/api/register')\n                      .send(user);\n\n\n  const { token } = setup.body;\n  const headers = { 'x-access-token': token };\n  const test = await t.context\n                     .get('/api/user/me')\n                     .set(headers);\n\n  t.is(test.status, 200);\n  t.is(test.body.name, user.name);\n  t.is(test.body.email, user.email);\n\n\n  await t.context\n        .del('/api/business')\n        .set(headers);\n});\n\n\ntest('successful read: should return 200, with users', async t => {\n  const user = {\n    name: 'bob',\n    email: 'user@read.test',\n    businessName: 'user read inc,',\n    address: '123 abc st',\n    password: 'Password1',\n  };\n  const setup = await t.context\n                      .post('/api/register')\n                      .send(user);\n\n  const { token } = setup.body;\n  const headers = { 'x-access-token': token };\n\n  const test = await t.context\n                     .get('/api/user')\n                     .set(headers);\n\n  t.is(test.status, 200);\n  t.true(test.body instanceof Array);\n\n\n  await t.context\n        .del('/api/business')\n        .set(headers);\n});\n\n\ntest.after(async () => {\n  await mongoose.connection.close();\n});\n"
  },
  {
    "__docId__": 51,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/api/user/methods/update/index.js",
    "memberof": null,
    "longname": "source/api/user/methods/update/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import { User } from '../../../../models';\n\n\nexport async function update(ctx) {\n  const { _id } = ctx.state.user;\n  const { body } = ctx.request;\n  try {\n    const updatedUser = await User.findByIdAndUpdate(_id, body, { new: true });\n    ctx.status = 200;\n    ctx.body = updatedUser;\n    return;\n  } catch (error) {\n    ctx.status = 500;\n    ctx.body = { error: \"invalid update\" };\n    return;\n  }\n}\n\n\nexport default update;\n"
  },
  {
    "__docId__": 52,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "update",
    "memberof": "source/api/user/methods/update/index.js",
    "longname": "source/api/user/methods/update/index.js~update",
    "access": null,
    "export": true,
    "importPath": "server/source/api/user/methods/update/index.js",
    "importStyle": "{update}",
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "params": [
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 53,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/api/user/methods/update/spec.js",
    "memberof": null,
    "longname": "source/api/user/methods/update/spec.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import server from 'supertest';\nimport mongoose from 'mongoose';\nimport test from 'ava';\n\nimport app from '../../../../app';\n\n\ntest.before(async () => {\n  mongoose.Promise = Promise;\n  await mongoose.connect('mongodb://localhost/seamless-test');\n});\n\n\ntest.beforeEach(async t => t.context = server(app.listen()));\n\n\ntest('successful update: should return 200, with updatedUser', async t => {\n  const user = {\n    name: 'bob',\n    email: 'user@update.test',\n    businessName: 'user update inc,',\n    address: '123 abc st',\n    password: 'Password1',\n  };\n  const setup = await t.context\n                      .post('/api/register')\n                      .send(user);\n\n  const { token } = setup.body;\n  const headers = { 'x-access-token': token };\n  const body = { name: 'bobby' };\n  const test = await t.context\n                    .put('/api/user')\n                    .set(headers)\n                    .send(body);\n\n  t.is(test.status, 200);\n  t.is(test.body.name, body.name);\n  t.is(test.body.email, user.email);\n\n\n  await t.context\n        .del('/api/business')\n        .set(headers);\n});\n\n\ntest.after(async () => {\n  await mongoose.connection.close();\n});\n"
  },
  {
    "__docId__": 54,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/app.js",
    "memberof": null,
    "longname": "source/app.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import parser from 'koa-bodyparser';\nimport logger from 'koa-logger';\nimport cors from 'koa-cors';\nimport Koa from 'koa';\n\nimport api from './api';\n\n/**\n * @type {Koa} app the pure koa instance\n */\nconst app = new Koa();\n\n\nif (process.env.NODE_ENV !== 'production') {\n  app.use(logger())\n}\n\nconst options = {\n  origin: 'http://localhost:8080',\n};\n\nif (process.env.NODE_ENV === 'production') {\n  options.origin = 'http://52.63.159.167';\n}\n\n\napp\n.use(parser())\n.use(cors(options))\n.use(api.routes())\n.use(api.allowedMethods());\n\n\nexport default app;\n"
  },
  {
    "__docId__": 55,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "options",
    "memberof": "source/app.js",
    "longname": "source/app.js~options",
    "access": null,
    "export": false,
    "importPath": "server/source/app.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 18,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 56,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/main.js",
    "memberof": null,
    "longname": "source/main.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import mongoose from 'mongoose';\nimport app from './app';\n\n\n/**\n * @type {Promise} mongoose.Promise using native promises.\n */\nmongoose.Promise = Promise;\n\n\n/**\n * @type {Number} port the application port.\n * @type {String} db the db address.\n * @type {String} name the db name.\n */\nconst port = process.argv[2] || 3000;\nconst db = process.argv[3] || 'localhost';\nconst name = process.argv[4] || 'seamless-test';\n\n\n/**\n * @type {Koa} server the koa application.\n */\nlet server;\n\n\n/**\n * start koa\n */\nfunction start() {\n  console.log(`api is connected to port: ${port}.`);\n  server = app.listen(port);\n}\n\n\n/**\n * gracefully stop koa\n */\nfunction stop() {\n  if (server) {\n    console.log('api is disconnected');\n    server.close();\n  }\n}\n\n\n/**\n * SIGINT runs stop\n */\nprocess.on('SIGINT', stop);\n\n\n/**\n * - connect to db\n * - start app.\n */\nmongoose.connection.on('error', console.error);\nmongoose.connection.once('open', start);\nmongoose.connect(`mongodb://${db}/${name}`);\n"
  },
  {
    "__docId__": 57,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "port",
    "memberof": "source/main.js",
    "longname": "source/main.js~port",
    "access": null,
    "export": false,
    "importPath": "server/source/main.js",
    "importStyle": null,
    "description": "",
    "lineNumber": 16,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 58,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "db",
    "memberof": "source/main.js",
    "longname": "source/main.js~db",
    "access": null,
    "export": false,
    "importPath": "server/source/main.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 17,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 59,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "name",
    "memberof": "source/main.js",
    "longname": "source/main.js~name",
    "access": null,
    "export": false,
    "importPath": "server/source/main.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 18,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 60,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "start",
    "memberof": "source/main.js",
    "longname": "source/main.js~start",
    "access": null,
    "export": false,
    "importPath": "server/source/main.js",
    "importStyle": null,
    "description": "start koa",
    "lineNumber": 30,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 61,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "stop",
    "memberof": "source/main.js",
    "longname": "source/main.js~stop",
    "access": null,
    "export": false,
    "importPath": "server/source/main.js",
    "importStyle": null,
    "description": "gracefully stop koa",
    "lineNumber": 39,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 62,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/models/business.js",
    "memberof": null,
    "longname": "source/models/business.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import mongoose, { Schema } from 'mongoose';\nimport Shipment from './shipment';\nimport User from './user';\n\n\n/**\n * the account model schema\n */\nconst schema = new Schema({\n  name: { type: String, required: true, unique: true },\n  owner: { type: Schema.Types.ObjectId, required: true, ref: 'User' },\n  shipments: [{ type: Schema.Types.ObjectId, ref: 'Shipment' }],\n  employees: [{ type: Schema.Types.ObjectId, ref: 'User' }],\n  industry: { type: String, required: false },\n  address: { type: String, required: true },\n});\n\n\n/**\n * cascade deletion\n */\nasync function remove(next) {\n  const shipments = Promise.all(\n    this.shipments\n        .toObject()\n        .map(\n          id => Shipment.findByIdAndRemove(id)\n                        .then(s => s.remove(f => f))\n        )\n  );\n\n  const users = Promise.all(\n    this.employees\n        .toObject()\n        .map(\n          id => User.findByIdAndRemove(id)\n                    .then(u => u.remove(f => f))\n        )\n  );\n\n  try {\n    await Promise.all([shipments, users]);\n    return next();\n  } catch (err) {\n    throw err;\n  }\n}\n\n\nschema.pre('remove', remove);\n\n\nexport default mongoose.model('Business', schema);\n"
  },
  {
    "__docId__": 63,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "schema",
    "memberof": "source/models/business.js",
    "longname": "source/models/business.js~schema",
    "access": null,
    "export": false,
    "importPath": "server/source/models/business.js",
    "importStyle": null,
    "description": "the account model schema",
    "lineNumber": 9,
    "type": {
      "types": [
        "mongoose~Schema"
      ]
    }
  },
  {
    "__docId__": 64,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "remove",
    "memberof": "source/models/business.js",
    "longname": "source/models/business.js~remove",
    "access": null,
    "export": false,
    "importPath": "server/source/models/business.js",
    "importStyle": null,
    "description": "cascade deletion",
    "lineNumber": 22,
    "params": [
      {
        "name": "next",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 65,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/models/index.js",
    "memberof": null,
    "longname": "source/models/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import Business from './business';\nimport Shipment from './shipment';\nimport Packet from './packet';\nimport User from './user';\n\nexport {\n  Business,\n  Shipment,\n  Packet,\n  User,\n};\n"
  },
  {
    "__docId__": 66,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/models/packet.js",
    "memberof": null,
    "longname": "source/models/packet.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import mongoose, { Schema } from 'mongoose';\n\n\nconst schema = new Schema({\n  deviceId: { type: String, required: true, index: true },\n  createdAt: { type: String, required: false },\n  humidity: { type: String, required: false },\n  course: { type: String, required: false },\n  speed: { type: String, required: false },\n  temp: { type: String, required: false },\n  alt: { type: String, required: false },\n  lat: { type: Number, required: false },\n  lng: { type: Number, required: false },\n});\n\n\nexport default mongoose.model('Packet', schema);\n"
  },
  {
    "__docId__": 67,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "schema",
    "memberof": "source/models/packet.js",
    "longname": "source/models/packet.js~schema",
    "access": null,
    "export": false,
    "importPath": "server/source/models/packet.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "type": {
      "types": [
        "mongoose~Schema"
      ]
    }
  },
  {
    "__docId__": 68,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/models/shipment.js",
    "memberof": null,
    "longname": "source/models/shipment.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import mongoose, { Schema } from 'mongoose';\nimport Packet from './packet';\n\n\nconst schema = new Schema({\n  businessId: { type: Schema.Types.ObjectId, ref: 'Business' },\n  deviceId: { type: Number, ref: 'Device' },\n  createdAt: { type: Date, required: true, default: Date.now },\n  packets: [{ type: Schema.Types.ObjectId, ref: 'Packet' }],\n});\n\n\n/**\n * cascade deletion\n */\nasync function remove(next) {\n  const packets = Promise.all(\n    this.packets\n        .toObject()\n        .map(\n          id => Packet.findByIdAndRemove(id)\n                      .then(p => p.remove())\n        )\n  )\n\n  try {\n    await packets;\n    return next();\n  } catch (err) {\n    throw err;\n  }\n}\n\n\nschema.pre('remove', remove);\n\n\nexport default mongoose.model('Shipment', schema);\n"
  },
  {
    "__docId__": 69,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "schema",
    "memberof": "source/models/shipment.js",
    "longname": "source/models/shipment.js~schema",
    "access": null,
    "export": false,
    "importPath": "server/source/models/shipment.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "type": {
      "types": [
        "mongoose~Schema"
      ]
    }
  },
  {
    "__docId__": 70,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "remove",
    "memberof": "source/models/shipment.js",
    "longname": "source/models/shipment.js~remove",
    "access": null,
    "export": false,
    "importPath": "server/source/models/shipment.js",
    "importStyle": null,
    "description": "cascade deletion",
    "lineNumber": 16,
    "params": [
      {
        "name": "next",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 71,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "source/models/user.js",
    "memberof": null,
    "longname": "source/models/user.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import mongoose, { Schema } from 'mongoose';\nimport { hash, compare } from 'bcrypt';\nimport Business from './business';\n\n/**\n * the account model schema\n */\nconst schema = new Schema({\n  name: { type: String, required: true },\n  email: { type: String, required: true, index: true, unique: true },\n  businessId: { type: Schema.Types.ObjectId, ref: 'Business' },\n  password: { type: String, required: true, select: false },\n  role: {\n    owner: { type: Boolean, required: true, default: false },\n    admin: { type: Boolean, required: true, default: false },\n    partner: { type: Boolean, required: true, default: true },\n  },\n});\n\n\n/**\n * authenticate before modify or reading.\n * @param {String} password the password to authenticate\n */\nfunction authenticate(password) {\n  return new Promise(\n    resolve => compare(password, this.password, (error, response) => {\n      if (error) throw error;\n\n      if (response === true) {\n        resolve(true);\n      }\n      resolve(false);\n    })\n  );\n}\n\n\n/**\n * hash password if it has changed\n * @param {Function} next signals end of the middleware.\n */\nfunction save(next) {\n  if (!this.isModified('password'))  return next();\n\n  return hash(this.password, 10, (error, hashed) => { // 10 === saltFactor\n    if (error) return next(error);\n\n    this.password = hashed;\n    return next();\n  });\n}\n\n\nschema.methods.authenticate = authenticate;\nschema.pre('save', save);\n\n\nexport default mongoose.model('User', schema);\n"
  },
  {
    "__docId__": 72,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "schema",
    "memberof": "source/models/user.js",
    "longname": "source/models/user.js~schema",
    "access": null,
    "export": false,
    "importPath": "server/source/models/user.js",
    "importStyle": null,
    "description": "the account model schema",
    "lineNumber": 8,
    "type": {
      "types": [
        "mongoose~Schema"
      ]
    }
  },
  {
    "__docId__": 73,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "authenticate",
    "memberof": "source/models/user.js",
    "longname": "source/models/user.js~authenticate",
    "access": null,
    "export": false,
    "importPath": "server/source/models/user.js",
    "importStyle": null,
    "description": "authenticate before modify or reading.",
    "lineNumber": 25,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "password",
        "description": "the password to authenticate"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 74,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "save",
    "memberof": "source/models/user.js",
    "longname": "source/models/user.js~save",
    "access": null,
    "export": false,
    "importPath": "server/source/models/user.js",
    "importStyle": null,
    "description": "hash password if it has changed",
    "lineNumber": 43,
    "params": [
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "next",
        "description": "signals end of the middleware."
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 76,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Infinity",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Infinity",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Infinity",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 77,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "NaN",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~NaN",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 78,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "undefined",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~undefined",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 79,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "null",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~null",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 80,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Object",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 81,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~object",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 82,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Function",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 83,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~function",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 84,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Boolean",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 85,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~boolean",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 86,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Symbol",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Symbol",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 87,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Error",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Error",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 88,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "EvalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/EvalError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~EvalError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 89,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "InternalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/InternalError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~InternalError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 90,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "RangeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RangeError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~RangeError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 91,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "ReferenceError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ReferenceError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~ReferenceError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 92,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "SyntaxError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~SyntaxError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 93,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "TypeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~TypeError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 94,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "URIError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/URIError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~URIError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 95,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Number",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 96,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~number",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 97,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Date",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Date",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 98,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "String",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~String",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 99,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "string",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~string",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 100,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "RegExp",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~RegExp",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 101,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 102,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Int8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int8Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Int8Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 103,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Uint8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Uint8Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 104,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Uint8ClampedArray",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Uint8ClampedArray",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 105,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Int16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int16Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Int16Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 106,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Uint16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint16Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Uint16Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 107,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Int32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int32Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Int32Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 108,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Uint32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint32Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Uint32Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 109,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Float32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Float32Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 110,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Float64Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float64Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Float64Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 111,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Map",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Map",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 112,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Set",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Set",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 113,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "WeakMap",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~WeakMap",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 114,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "WeakSet",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~WeakSet",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 115,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "ArrayBuffer",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~ArrayBuffer",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 116,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "DataView",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~DataView",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 117,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "JSON",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~JSON",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 118,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Promise",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Promise",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 119,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Generator",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Generator",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 120,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "GeneratorFunction",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/GeneratorFunction",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~GeneratorFunction",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 121,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Reflect",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Reflect",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 122,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Proxy",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Proxy",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 124,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "CanvasRenderingContext2D",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~CanvasRenderingContext2D",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 125,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "DocumentFragment",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/DocumentFragment",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~DocumentFragment",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 126,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Element",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/Element",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~Element",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 127,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Event",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/Event",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~Event",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 128,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Node",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/Node",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~Node",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 129,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "NodeList",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/NodeList",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~NodeList",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 130,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "XMLHttpRequest",
    "externalLink": "https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~XMLHttpRequest",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 131,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "AudioContext",
    "externalLink": "https://developer.mozilla.org/en/docs/Web/API/AudioContext",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~AudioContext",
    "access": null,
    "description": "",
    "builtinExternal": true
  }
]